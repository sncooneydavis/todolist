<template id="task-template">
    <!-- script: populate data-item-id with item # -->
    <!-- background is lightest color of list -->
    <div data-item-id="" data-item-type="task" class="task container">
        <!-- when checkbox selected-->
            <!-- remove from left pane -->
            <!-- task name, start/deadline date/time(s) -->
        <input class="checkbox left popover hidden" type="checkbox" />    
        <!-- on hover, remove hidden from .checkbox -->
        <div class="task-bar">
            <div class="left">
                <div class="single-line">      
                    <!-- on click of .edit-task-name-button: -->
                        <!-- remove .hidden from .task-details.dropdown and .task-details-on -->
                            <!-- .expand-task-details .hidden -->
                        <!-- add .hidden to .edit-task-name-button -->
                        <!-- remove .hidden from and focus .editable-title -->
                            <!-- on *ENTER on .editable-title -->   
                                <!-- append #todo-quick-add-template beneath this task -->
                                <!-- focus .new-item-title -->
                    <div class="task-details single-line">
                        <button class="edit-task-name-button" type="button">
                            <input class="readonly" type="text" value="TASK_TITLE" readonly />
                        </button>
                        <input class="editable-title hidden" type="text" value="TASK_TITLE" />
                    </div>
                    <!-- remove .hidden if task object has details -->
                    <!-- add .active on hover -->
                    <div class="task-details-on single-line hidden">
                        <!-- on click -->
                            <!-- add .hidden to .expand-task-details-button -->
                            <!-- remove .hidden from .collapse-task-details-button -->
                            <!-- remove .hidden from .task-details.dropdown-->
                        <button class="expand-task-details-button" type="button">
                            ˰
                        </button> 
                        <!-- see below "when editing"-->
                        <button class="collapse-task-details-button" type="button">
                            ˯
                        </button>    
                    </div> 
                </div>
                <!-- datetime-formatter.js -->
                    <!-- times: -->
                        <!-- if whole hour, hour only -->
                    <!-- if task has no deadline (type: workday)-->
                        <!-- timeblock today: 'Today 1:00-2:00' -->
                            <!-- if in past, turn red -->
                        <!-- within 7 days: "Friday 1:00-2:00" -->
                        <!-- within this year: "May 3" -->
                    <!-- if task has deadline: -->
                        <!-- deadline date in past: 'overdue by X days' (red) -->
                        <!-- start date in future: "May 1 - May 30" -->
                        <!-- start date in past, deadline in future past 7 days: "Next: Thursday 1:00-2:00" "Due: May 30 5:00" -->
                        <!-- start date in past, deadline in future within 7 days: "Next: Thursday 1:00-2:00" "Due: Friday 5:00" -->
                        <!-- if deadline within 12 hours: "Due: 4hrs 3mins" (orange-yellow) -->
                        <!-- if deadline within 12-48 hours: "Due: tomorrow at 12pm" (orange-yellow) -->                    
                <div class="single-line">
                    <!-- if task has no deadline but has date -->
                        <!-- remove .hidden -->
                        <!-- if task has timeblock -->
                            <!-- on click -->
                                <!-- remove .hidden -->
                                <!-- scroll to .open-timeblock -->
                                <!-- append /editing/#timeblock-template -->
                        <!-- else -->
                            <!-- on click -->
                                <!-- remove .hidden -->
                                <!-- scroll to .open -->
                    <button class="first-datetime-indicator-button hidden" type="button" >
                        <input class="readonly indicator" type="text" value="1" readonly />
                    </button>
                    <!-- remove .hidden if task has deadline -->
                    <!-- on click, remove .hidden from and scroll to .open-deadline -->
                        <!-- append /editing/#deadline-template below -->
                    <button class="second-datetime-indicator-button hidden" type="button" >
                        <input class="readonly indicator" type="text" value="2" readonly />
                    </button>
                </div>
            </div>
            <div class="right">
                <!-- on click of indicator for component-* --> 
                    <!-- append #-template with editing dropdown not .hidden -->
                    <div class="indicators-listing single-line">
                        <button class="date-indicator-button single-line hidden" type="button">
                            <input class="indicator" type="text" value="" readonly />
                        </button>
                        <div class="single-line">
                            <!-- if 'cycle=yes, remove .hidden -->
                            <button class="cycle-indicator-button hidden" type="button">
                                <img class="indicator" src="./assets/images/prospective-left/todo-components/recurring.svg" />
                            </button>
                            <!-- if 'reminder=yes', remove .hidden -->
                            <button class="reminder-indicator-button hidden" type="button">
                                <img class="indicator" src="./assets/images/prospective-left/todo-components/reminder.svg" />
                            </button>
                        </div>    
                    </div>
            </div>       
        </div>  
        <div class="task-details dropdown hidden">
            <!-- when editing, on click of .collapse-task-details-button or anywhere off task -->
                <!-- if deadline or schedule set -->
                    <!-- save values to task object -->
                    <!-- add .hidden to .collapse-task-details-button -->
                    <!-- remove .hidden from .task-details-off -->
                    <!-- add .hidden to .task-schedule-dropdown and .task-details.dropdown -->
                <!-- else -->
                    <!-- replace this template with #new-task-template and collapse both .dropdowns -->
                    <!-- save values to task object -->
            <div class="add-details single-line">
                <!-- on click, remove .hidden from .task-schedule.dropdown and focus start -->
                <button class="open-task-schedule-button inactive">
                    <img class="icon" src="./assets/images/prospective-left/list-dropdown/add-event.svg" />
                </button>
                <!-- if checklist/notes contain items, add .hidden to .add-*-button -->
                <!-- if checklist/notes empty, remove .hidden from .add-*-button -->
                <!-- on click -->
                    <!-- remove .inactive to .add-*-button -->
                    <!-- remove .hidden from corresponding container -->   
                    <!-- focus first item -->
                <button class="add-checklist-button" class="" type="button">
                    <img class="icon" src="./assets/images/prospective-left/list-dropdown/add-task.svg" />
                </button>
                <button class="add-notes-button" class="" type="button">
                    <img class="icon" src="./assets/images/prospective-left/todo-components/note.svg" />
                </button>
                <!-- TODO: build out attachment module -->
                <button class="add-attachment-button" class="" type="button">
                    <img class="icon" src="./assets/images/prospective-left/todo-components/location-out.svg" />
                </button>
            </div>
            <div class="checklist container hidden">
                <!-- APPEND SUBTASK_TEMPLATEs, SUB_MEASUREMENT_TEMPLATEs & SUB_HABIT_TEMPLATEs from checklist-templates here -->
                <!-- implement search-variable.js -->
                    <!-- append appropriate template above upon add -->
                <input type="text" class="search-bar" placeholder="Add new item or search variables" />
            </div>
                <!-- if empty, rows="1" -->
                <!-- if not empty, rows= as many as needed to fit text -->
            <textarea class="notes container hidden" placeholder="Notes"></textarea>
            <div class="attachment container hidden">
                <!-- append attachment templates here -->
            </div>
        </div>
        <div class="task-schedule dropdown hidden">   
            <!-- on click -->
                <!-- append /editing/#start-template -->
                <!-- add .hidden to other .edit-*-dropdown's -->
            <div class="open-start single-line">
                <button class="open-edit-button" type="button">
                    <!-- on click or if object has start-date, remove .inactive -->
                    <img class="icon inactive single-line" src="./assets/images/prospective-left/todo-components/date.svg" />
                    <!-- on click (and object has no start-date), remove .inactive -->
                    <!-- if task object has start-date, add .hidden -->
                    <span class="inactive description">
                        schedule task
                    </span>
                    <!-- if task object has start-date, remove .hidden -->
                    <div class="hidden description">
                        <!-- format -->
                            <!-- start date_here: start date set in future -->
                            <!-- started date_here: start date set in past -->
                            <!-- date_here: no deadline date -->
                        <input class="start-date description" type="text" value="" readonly />
                        <!-- if task object has start-time, ~hidden and populate -->
                        <input class="start-time description hidden" type="text" value="" readonly />
                    </div> 
                </button>
                <!-- remove .hidden on hover or if .edit-start.dropdown is not .hidden, assuming task has start time -->
                <!-- on click -->
                    <!-- add .hidden .clear-start-button and .edit-start.dropdown -->
                    <!-- remove .hidden from <span>.description -->
                    <!-- delete deadline-date and deadline-time from object -->
                <button class="clear-start-button hidden">
                    <img class="icon inactive" src="./assets/images/prospective-left/x.svg" />
                </button>
            </div>
            <!-- on click -->
                <!-- append /editing/#timeblock-template -->
                <!-- add .hidden to other .edit-*.dropdown's -->
            <div class="open-timeblock single-line">
                <button class="open-edit-button" type="button">
                    <!-- on click or if object has upcoming timeblock, remove .inactive -->
                    <img class="icon inactive single-line" src="./assets/images/prospective-left/todo-components/time-set.svg" />
                    <!-- if task object has no upcoming timeblock, remove .hidden -->
                        <!-- on click remove .inactive -->
                    <!-- if task has no start date -->
                        <!-- on add work timeblock, make first work timeblock start date -->
                    <span class="inactive hidden description">
                        schedule timeblock
                    </span>
                    <!-- if task object has upcoming timeblock, remove .hidden -->
                    <div class="next-timeblock description hidden">
                        <span>next timeblock:  </span>
                        <input class="date" type="text" value="" readonly />
                        <!-- if task object has start-time, ~hidden and populate -->
                        <input class="time" type="text" value="" readonly />
                    </div> 
                </button>
            </div>
            
            <div class="open-deadline single-line">
                <!-- on click -->
                    <!-- append /editing/#deadline-template -->
                    <!-- add .hidden to other .edit-*-dropdown's -->
                <button class="open-deadline-button single-line" type="button">
                    <!-- on click or if object has deadline-date, remove .inactive -->
                    <img class="icon inactive" src="./assets/images/prospective-left/todo-components/deadline-date.svg" />
                    <!-- on click (and object has no deadline-date), remove .inactive -->
                    <!-- add .hidden if item object has deadline -->
                    <span class="inactive description">
                        set deadline
                    </span>
                    <!-- when object has deadline-date AND deadline-time, remove .hidden and populate BOTH -->
                    <div class="description hidden single-line">
                        <span>
                            deadline
                        </span>
                        <input class="deadline-date description" type="text" value="" readonly />
                        <input class="deadline-time description" type="text" value="" readonly />
                    </div>               
                </button>
                <!-- remove .hidden on hover or if .edit-deadline.dropdown is not .hidden, assuming task has deadline -->
                <!-- on click -->
                    <!-- add .hidden to edit-deadline.dropdown and .clear-deadline-button -->
                    <!-- remove .hidden from <span>.description -->
                    <!-- delete deadline-date and deadline-time from object -->
                <button class="clear-deadline-button hidden">
                    <img class="icon inactive" src="./assets/images/prospective-left/x.svg" />
                </button>
            </div>
            <div class="open-reminder single-line">

            </div>
            <div class="open-recurring single-line">
                <!-- on click -->
                <!-- append /editing/#edit-deadline-template -->
                <!-- add .hidden to other .edit-*-dropdown's -->
                <button class="open-recurring-button single-line" type="button">
                    <!-- on click or if object has recurrence, remove .inactive -->
                    <img class="icon inactive" src="./images/prospective-left/todo-components/recurring.svg" />
                    <!-- on click (and object has no recurrence), remove .inactive -->
                    <!-- if item object has recurrence, add .hidden -->
                    <span class="inactive description">
                        set recurrence
                    </span>
                    <!-- if todo object has recurrence, remove .hidden and populate -->
                    <div class="hidden single-line description">
                        <!-- remove hidden if task has recurrence -->
                        <span class="hidden">
                            repeats
                        </span>
                        <!-- SCRIPT: populate with combined and formatted values of recurring-dropdown inputs -->
                        <input class="recurring-description" type="text" value="" readonly />
                    </div>
                </button>
                <!-- remove .hidden on hover or if .edit-recurring.dropdown is not .hidden, assuming task has deadline -->
                    <!-- on click -->
                        <!-- add .hidden to .edit-recurring.dropdown and .clear-deadline-button -->
                        <!-- remove .hidden from <span>.description -->
                        <!-- delete deadline-date and deadline-time from object -->
                <button class="clear-recurring-button hidden">
                    <img class="icon inactive" src="./assets/images/prospective-left/x.svg" />
                </button>
            </div>          
            <div class="bottom-section">
                <!-- append #bottom-template -->
            </div>
        </div>  
    </div>
</template>



