<template id="task">
    <!-- script: populate data-item-id with item # -->
    <!-- background is lightest color of list -->
    <div data-item-id="" data-item-type="task" class="task container">
        <div class="task-bar">
            <div class="left">
                <div class="single-line">
                    <!-- when checkbox selected-->
                        <!-- remove from left pane -->
                        <!-- task name, start/due date/time(s) -->
                    <input class="checkbox" type="checkbox" />
                    <!-- on click of .expand-task-details-button: -->
                        <!-- add .hidden to .task-details-off -->
                        <!-- remove .hidden from .task-details-on -->
                        <!-- remove .hidden from .task-details.dropdown-->
                    <!-- on click of .edit-task-name-button: -->
                        <!-- same as above -->
                        <!-- focus .editable-title -->
                    <div class="task-details-off single-line">
                        <button class="edit-task-name-button" type="button">
                            <input class="readonly" type="text" value="TASK_TITLE" readonly />
                        </button>
                        <!-- remove hidden if task details exist -->
                        <button class="expand-task-details-button hidden" type="button">
                            ˰
                        </button> 
                    </div>
                    <div class="task-details-on single-line hidden">
                        <input class="editable-title" type="text" value="TASK_TITLE" />
                        <!-- see below "when editing"-->
                        <button class="collapse-task-details" type="button">
                            ˯
                        </button>    
                    </div> 
                </div>
                <div class="single-line">
                    <!-- add .hidden if no list or if view=list -->
                    <!-- script: on click, populate dropdown with list names -->
                    <button class="list-indicator-button" type="button">
                        <input class="indicator" type="text" value="list" readonly/>
                    </button>
                    <!-- remove .hidden if task has time-log -->
                    <!-- on click, remove .hidden from and scroll to . -->
                    <!-- script: time-tracked + time-logged -->
                    <button class="sessions-indicator-button hidden" type="button" >
                        <input class="readonly indicator" type="text" value="WORK_SESSIONS" readonly />
                    </button>
                </div>
            </div>
            <div class="right">
                <!-- on click of indicator for component-* --> 
                    <!-- remove .hidden from .task-schedule.dropdown -->
                    <!-- focus first field in the relevant section -->
                <div class="indicators-listing">
                    <!-- if 'date=yes' and not in date-view, remove .hidden -->
                    <!-- if cycle=yes or timeframe=yes, show next occurrence -->
                    <!-- datetime-formatter.js -->
                        <!-- times: -->
                            <!-- if whole hour, hour only -->
                        <!-- due date in past: overdue -->
                        <!-- if in date view, use time only -->
                        <!-- if only due date: -->
                            <!-- if due-date=within 12 hours: -->
                                <!-- if due date has time: "due in 4hrs 3mins" -->
                                <!-- else: "due today" -->
                            <!-- if due-date -->
                            <!-- if due-date=within 12-48 hours: -->
                                <!-- if due date has time: "due today 12pm" -->
                                <!-- else: "due tomorrow" -->
                            <!-- if due-date within 7 days: "due Monday" -->
                            <!-- if due date-date this year: "due May 30" -->
                            <!-- else: "due 5/30/2025" -->
                        <!-- if only start date -->
                            <!-- start date in future: -->
                                <!-- start date within 7 days: "start Friday" -->
                                <!-- start date within this year: "start May 1" -->
                            <!-- start day today or in the past: "today" -->
                        <!-- if both start and due dates -->
                            <!-- start date in future: "May 1 - May 30" -->
                            <!-- start date in past but due date in future: see due date rules -->
                    <button class="date-indicator-button single-line hidden" type="button">
                        <input class="indicator" type="text" value="" readonly />
                    </button>
                    <div class="single-line">
                        <!-- if 'cycle=yes, remove .hidden -->
                        <button class="cycle-indicator-button hidden" type="button">
                            <img class="indicator" src="./assets/images/prospective-left/todo-components/recurring.svg" />
                        </button>
                        <!-- if 'reminder=yes', remove .hidden -->
                        <button class="reminder-indicator-button hidden" type="button">
                            <img class="indicator" src="./assets/images/prospective-left/todo-components/reminder.svg" />
                        </button>
                    </div>    
                </div>
            </div>       
        </div>  
        <div class="task-details dropdown hidden">
            <!-- when editing, on click of .collapse-task-details-button or anywhere off task -->
                <!-- add .hidden to .task-details-on and .task-details.dropdown -->
                <!-- remove .hidden from .task-details-off -->
                <!-- add .hidden to .task-schedule-dropdown -->
                <!-- save values to task object -->
            <div class="add-details single-line">
                <!-- on click, remove .hidden from .task-schedule.dropdown and focus start -->
                <button class="open-task-schedule-button inactive">
                    <img class="icon" src="./assets/images/prospective-left/list-dropdown/add-event.svg" />
                </button>
                <!-- if checklist/notes contain items, add .hidden to .add-*-button -->
                <!-- if checklist/notes empty, remove .hidden from .add-*-button -->
                <!-- on click -->
                    <!-- remove .inactive to .add-*-button -->
                    <!-- remove .hidden from corresponding container -->   
                    <!-- focus first item -->
                <button class="add-checklist-button" class="" type="button">
                    <img class="icon" src="./assets/images/prospective-left/list-dropdown/add-task.svg" />
                </button>
                <button class="add-notes-button" class="" type="button">
                    <img class="icon" src="./assets/images/prospective-left/todo-components/note.svg" />
                </button>
                <!-- TODO: build out attachment module -->
                <button class="add-attachment-button" class="" type="button">
                    <img class="icon" src="./assets/images/prospective-left/todo-components/location-out.svg" />
                </button>
            </div>
            <div class="checklist container hidden">
                <!-- APPEND SUBTASK_TEMPLATEs, SUB_MEASUREMENT_TEMPLATEs & SUB_HABIT_TEMPLATEs from checklist-templates here -->
                <!-- implement search-variable.js -->
                    <!-- append appropriate template above upon add -->
                <input type="text" class="search-bar" placeholder="Add new item or search variables" />
            </div>
                <!-- if empty, rows="1" -->
                <!-- if not empty, rows= as many as needed to fit text -->
            <textarea class="notes container hidden" placeholder="Notes"></textarea>
            <div class="attachment container hidden">
                <!-- append attachment templates here -->
            </div>
        </div>
        <div class="task-schedule dropdown hidden">   
            <!-- for all sections (unless otherwise stated): --> 
                <!-- when open-* is closed -->
                    <!-- on click of open-* -->
                        <!-- add .open to open-* -->
                        <!-- append edit-* -->
                <!-- when open-* is open -->
                    <!-- on *ENTER* or click of open-* or click on another open-* -->
                        <!-- add .hidden to edit-* -->
                        <!-- remove .open from open-* -->
            <div class="start-sect hidden"></div> 
            <div class="next-session-sect hidden"></div>
            <div class="due-sect hidden"></div>
            <div class="reminder">
                <!-- requires start or due date -->
            </div>         
            <div class="recurring-sect">
                <!-- requires start or due date -->
            </div> 
        </div>  
    </div>
</template>